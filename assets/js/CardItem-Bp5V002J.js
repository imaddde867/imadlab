import{r,j as e,L as x,R as T,p as D}from"./index-B1IGmRtD.js";import{t as ee}from"./tags-BdSag13u.js";import{S as te}from"./SpotlightCard-Boy7UEMB.js";import{E}from"./external-link-Cz28fLjv.js";const se=["http://","https://","data:","blob:"],re=a=>{if(!a)return null;const t=a.trim();return t?/^\/?public\//.test(t)?`/${t.replace(/^\/?public\//,"")}`:se.some(c=>t.startsWith(c))||t.startsWith("/")?t:`/${t}`:null},le=({title:a,tags:t,date:c,description:L,excerpt:$,link:o,linkLabel:W="View",linkTo:n,githubUrl:p,demoUrl:g,readTime:w,isBlog:d=!1,image_url:F,repoStars:u,repoUpdatedAt:b})=>{const i=r.useRef(null),l=r.useRef(null),C=r.useRef(null),[I,V]=r.useState(!1),[R,S]=r.useState(!1),[f,M]=r.useState(!1),[P,v]=r.useState(!1),[k,_]=r.useState(!1),H=d?"/blogs/:slug":"/projects/:id",h=re(F),G=!!h||d,U=!!h&&!k,A=d?"Blog Post":"No Preview",J=u!=null?!0:!!b,m=`Open ${a}`,O=(()=>{if(!b)return null;const s=new Date(b);return Number.isNaN(s.getTime())?null:`Updated ${s.toLocaleDateString("en-US",{year:"numeric",month:"short"})}`})();r.useEffect(()=>{if(i.current&&l.current){const s=i.current.scrollWidth,y=l.current.offsetWidth;V(s>y)}},[a]),r.useEffect(()=>{v(!1),_(!1)},[h]),r.useEffect(()=>{const s=C.current;s&&s.complete&&s.naturalWidth>0&&v(!0)},[h]);const K=()=>{v(!0)},Q=()=>{_(!0)},X=()=>D(H),q="relative w-full aspect-[16/9] overflow-hidden bg-white/5",z=`${q} block focus:outline-none focus-visible:ring-2 focus-visible:ring-white/30`,B="block focus:outline-none focus-visible:ring-2 focus-visible:ring-white/30 rounded-sm",j=e.jsx("span",{ref:i,className:`block transition-all duration-700 ease-in-out ${I&&R?"whitespace-nowrap":"truncate"}`,style:I&&R?{transform:`translateX(-${i.current&&l.current?i.current.scrollWidth-l.current.offsetWidth:0}px)`,transition:`transform ${i.current&&l.current?Math.max(1.5,(i.current.scrollWidth-l.current.offsetWidth)/60):1.5}s linear`}:{transform:"translateX(0)",transition:"transform 0.5s ease-out"},onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:a}),Y=n?e.jsx(x,{to:n,onPointerEnter:X,"aria-label":m,className:B,children:j}):o?e.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer","aria-label":m,className:B,children:j}):j,N=U?e.jsxs(e.Fragment,{children:[!P&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-white/5 animate-pulse flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white/60 rounded-full animate-spin"})}),e.jsx("img",{ref:C,src:h??void 0,alt:a,width:"640",height:"360",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",className:`w-full h-full object-cover transition-all duration-500 ease-out ${P?"opacity-100":"opacity-0"} ${f?"scale-110":"scale-100"}`,onLoad:K,onError:Q,loading:"lazy",decoding:"async"}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent transition-opacity duration-300 ${f?"opacity-80":"opacity-40"}`}),e.jsx("div",{className:`absolute inset-0 bg-white/10 transition-opacity duration-300 ${f?"opacity-100":"opacity-0"}`})]}):e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-white/10 via-white/5 to-transparent",children:e.jsx("span",{className:"text-xs uppercase tracking-[0.25em] text-white/60",children:A})}),Z=G?n?e.jsx(x,{to:n,onPointerEnter:X,"aria-label":m,className:z,children:N}):o?e.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer","aria-label":m,className:z,children:N}):e.jsx("div",{className:q,children:N}):null;return e.jsx(te,{className:"h-full flex flex-col overflow-hidden transition-all duration-300 ease-out hover:scale-[1.02] hover:shadow-2xl group",children:e.jsxs("div",{onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),className:"h-full flex flex-col",children:[Z,e.jsxs("div",{className:"flex-1 flex flex-col p-6 gap-4 relative",children:[e.jsx("div",{className:"flex items-start justify-between gap-3",children:e.jsx("h3",{className:"text-xl font-semibold text-white leading-tight flex-1 min-w-0 overflow-hidden relative group",ref:l,children:Y})}),(t?.length||c)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 min-h-[1.5rem]",children:[t&&t.slice(0,4).map((s,y)=>e.jsx(x,{to:ee(s),className:`px-3 py-1 text-xs font-medium rounded-full transition-all duration-200 ${f?"bg-white/20 text-white shadow-lg":"bg-white/10 text-white/80"} hover:bg-white/20`,children:d?`#${s}`:s},y)),t&&t.length>4&&e.jsxs("span",{className:"px-3 py-1 text-xs font-medium bg-white/5 text-white/60 rounded-full",children:["+",t.length-4]}),c&&e.jsx("span",{className:"text-xs text-white/60 ml-auto font-mono",children:c})]}),(L||$)&&e.jsx("p",{className:"text-sm text-white/70 leading-relaxed line-clamp-3 flex-1",children:L||$}),(w||p||g||n||o||J)&&e.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[w&&e.jsxs("span",{className:"text-xs text-white/50 font-mono",children:[w," min read"]}),u!=null&&e.jsxs("span",{className:"text-xs text-white/50 font-mono",children:["â˜…",u]}),O&&e.jsx("span",{className:"text-xs text-white/50 font-mono hidden sm:inline",children:O})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[p&&e.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-white/60 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20","aria-label":"View source code",children:e.jsx(T,{className:"w-4 h-4"})}),g&&e.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-white/60 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20","aria-label":"Open live demo",children:e.jsx(E,{className:"w-4 h-4"})}),(n||o)&&e.jsx("div",{className:"relative",children:n?e.jsxs(x,{to:n,onPointerEnter:()=>D(H),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20 group",children:[W,e.jsx(E,{className:"w-3 h-3 transition-transform duration-200 group-hover:translate-x-0.5 group-hover:-translate-y-0.5"})]}):e.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/20 group",children:[W,e.jsx(E,{className:"w-3 h-3 transition-transform duration-200 group-hover:translate-x-0.5 group-hover:-translate-y-0.5"})]})})]})]})]})]})})};export{le as C,re as r};
