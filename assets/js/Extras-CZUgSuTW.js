import{c as g,j as e,l as m,s as R,r as h}from"./index-B1IGmRtD.js";import{S as L}from"./SEO-C_LV3HvV.js";import{S as T}from"./SectionHeader-8u_d-3EY.js";import{S as P}from"./SpotlightCard-Boy7UEMB.js";import{u as j}from"./useIntersectionObserver-Dp7KdSfc.js";import{C as p}from"./clock-CDywXAON.js";import{E as f}from"./external-link-Cz28fLjv.js";const A=g("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const U=g("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const F=g("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const H=g("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);const k=g("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),N=r=>(r/1e3).toFixed(1),b=r=>{const s=Math.floor(r/3600),a=Math.floor(r%3600/60);return s>0?`${s}h ${a}m`:`${a}m`},V=r=>{const s=Math.floor(r/3600),a=Math.floor(r%3600/60),t=r%60;return s>0?`${s}:${a.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`:`${a}:${t.toString().padStart(2,"0")}`},O=(r,s)=>{if(r===0)return"0:00 /km";const a=s/(r/1e3),t=Math.floor(a/60),i=Math.floor(a%60);return`${t}:${i.toString().padStart(2,"0")} /km`},z=r=>{const s=new Date(r),t=Math.floor((new Date().getTime()-s.getTime())/(1e3*60*60*24));return t===0?"Today":t===1?"Yesterday":t<7?`${t} days ago`:s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},Y=r=>`https://www.strava.com/activities/${r}`,B=({stats:r})=>{const{elementRef:s,isVisible:a}=j({threshold:.2}),{elementRef:t,isVisible:i}=j({threshold:.2});if(!r)return null;const o=r.ytd_run_totals,n=r.all_run_totals;return e.jsxs("div",{className:"space-y-12",children:[o&&o.count>0&&e.jsxs("div",{ref:s,children:[e.jsxs("div",{className:`mb-8 transition-all duration-700 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[e.jsxs("h3",{className:"text-2xl font-bold mb-2",children:[new Date().getFullYear()," Progress"]}),e.jsx("p",{className:"text-white/60",children:"My journey so far this year"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{icon:A,label:"Total Runs",value:o.count,subtitle:"activities completed"},{icon:k,label:"Distance",value:N(o.distance),subtitle:"kilometers ran"},{icon:p,label:"Time",value:b(o.moving_time).split(" ")[0],subtitle:"hours in motion"}].map((l,d)=>e.jsx("div",{className:`transition-all duration-700 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:a?`${(d+1)*100}ms`:"0ms"},children:e.jsx(P,{spotlightColor:"rgba(252, 76, 2, 0.15)",children:e.jsxs("div",{className:"p-8 h-full group hover:bg-white/[0.02] transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsx("div",{className:"p-3 rounded-lg bg-[#FC4C02]/10 group-hover:bg-[#FC4C02]/20 transition-colors border border-[#FC4C02]/20",children:e.jsx(l.icon,{className:"w-6 h-6 text-[#FC4C02]"})}),e.jsx("div",{className:"text-xs text-white/40 bg-white/5 px-3 py-1 rounded-full",children:l.label})]}),e.jsx("div",{className:"text-5xl font-bold mb-2 group-hover:text-[#FC4C02] transition-colors",children:l.value}),e.jsx("div",{className:"text-sm text-white/50",children:l.subtitle})]})})},l.label))})]}),n&&n.count>0&&e.jsxs("div",{ref:t,children:[e.jsxs("div",{className:`mb-8 transition-all duration-700 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Lifetime Achievements"}),e.jsx("p",{className:"text-white/60",children:"The complete journey"})]}),e.jsxs("div",{className:`grid grid-cols-2 md:grid-cols-4 gap-4 transition-all duration-700 delay-100 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:bg-white/[0.08] transition-all duration-300 group",children:[e.jsxs("div",{className:"text-sm text-white/60 mb-2 flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),"Total Runs"]}),e.jsx("div",{className:"text-4xl font-bold mb-1 group-hover:text-brand-gradient transition-all",children:n.count})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:bg-white/[0.08] transition-all duration-300 group",children:[e.jsxs("div",{className:"text-sm text-white/60 mb-2 flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Distance"]}),e.jsx("div",{className:"text-4xl font-bold mb-1 group-hover:text-brand-gradient transition-all",children:N(n.distance)}),e.jsx("div",{className:"text-xs text-white/40",children:"km"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:bg-white/[0.08] transition-all duration-300 group",children:[e.jsxs("div",{className:"text-sm text-white/60 mb-2 flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4"}),"Moving Time"]}),e.jsx("div",{className:"text-4xl font-bold mb-1 group-hover:text-brand-gradient transition-all",children:b(n.moving_time).split(" ")[0]}),e.jsx("div",{className:"text-xs text-white/40",children:b(n.moving_time).includes("h")?"hours":"minutes"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 hover:bg-white/[0.08] transition-all duration-300 group",children:[e.jsxs("div",{className:"text-sm text-white/60 mb-2 flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),"Elevation"]}),e.jsx("div",{className:"text-4xl font-bold mb-1 group-hover:text-brand-gradient transition-all",children:Math.round(n.elevation_gain).toLocaleString()}),e.jsx("div",{className:"text-xs text-white/40",children:"meters climbed"})]})]}),e.jsxs("div",{className:`mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 transition-all duration-700 delay-200 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold mb-1",children:[(n.distance/n.count/1e3).toFixed(1)," km"]}),e.jsx("div",{className:"text-sm text-white/60",children:"Average Distance"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold mb-1",children:[Math.round(n.elevation_gain/n.count)," m"]}),e.jsx("div",{className:"text-sm text-white/60",children:"Avg Elevation per Run"})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold mb-1",children:Math.round(n.distance/42195)}),e.jsx("div",{className:"text-sm text-white/60",children:"Marathon Equivalents"})]})]})]})]})},J=({stats:r,activities:s})=>null,Z=({activities:r})=>{const{elementRef:s,isVisible:a}=j({threshold:.1});return r.length===0?e.jsx("div",{className:"text-center py-12 bg-white/5 border border-white/10 rounded-xl",children:e.jsx("p",{className:"text-white/60",children:"No recent activities found"})}):e.jsxs("div",{ref:s,children:[e.jsxs("div",{className:`mb-8 transition-all duration-700 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Recent Entries"}),e.jsx("p",{className:"text-white/60",children:"Latest runs"})]}),e.jsx("div",{className:"space-y-3",children:r.map((t,i)=>e.jsx("div",{className:`transition-all duration-700 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,style:{transitionDelay:a?`${(i+1)*100}ms`:"0ms"},children:e.jsxs("div",{className:"bg-gradient-to-br from-white/[0.05] to-white/[0.02] border border-white/[0.08] rounded-xl overflow-hidden hover:border-[#FC4C02]/20 hover:bg-white/[0.05] transition-all duration-300 group relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FC4C02]/0 via-[#FC4C02]/5 to-[#FC4C02]/0 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),e.jsx("div",{className:"px-5 pt-4 pb-3 border-b border-white/[0.05] relative z-10",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-base font-medium truncate mb-1.5 text-white/95",children:t.name}),e.jsxs("div",{className:"flex items-center gap-3 text-[11px] text-white/40",children:[e.jsx("span",{children:z(t.start_date)}),t.kudos_count>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"w-3 h-3 fill-white/15"}),t.kudos_count]})]})]}),e.jsx("a",{href:Y(t.id),target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-2 hover:bg-[#FC4C02]/10 rounded-lg transition-all group/link mt-0.5","aria-label":"View on Strava",children:e.jsx(f,{className:"w-4 h-4 text-white/50 group-hover/link:text-[#FC4C02] transition-colors"})})]})}),e.jsxs("div",{className:"px-5 py-4 relative z-10",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"group/stat",children:[e.jsx("div",{className:"text-[10px] font-medium uppercase tracking-widest text-white/30 mb-1.5 group-hover/stat:text-[#FC4C02]/50 transition-colors",children:"Distance"}),e.jsx("div",{className:"text-lg font-semibold text-white/90 group-hover/stat:text-[#FC4C02] transition-colors",children:N(t.distance)}),e.jsx("div",{className:"text-[10px] text-white/25 mt-0.5",children:"kilometers"})]}),e.jsxs("div",{className:"group/stat",children:[e.jsx("div",{className:"text-[10px] font-medium uppercase tracking-widest text-white/30 mb-1.5 group-hover/stat:text-[#FC4C02]/50 transition-colors",children:"Time"}),e.jsx("div",{className:"text-lg font-semibold text-white/90 group-hover/stat:text-[#FC4C02] transition-colors",children:V(t.moving_time)}),e.jsx("div",{className:"text-[10px] text-white/25 mt-0.5",children:"minutes"})]}),e.jsxs("div",{className:"group/stat",children:[e.jsx("div",{className:"text-[10px] font-medium uppercase tracking-widest text-white/30 mb-1.5 group-hover/stat:text-[#FC4C02]/50 transition-colors",children:"Pace"}),e.jsx("div",{className:"text-lg font-semibold text-white/90 group-hover/stat:text-[#FC4C02] transition-colors",children:O(t.distance,t.moving_time).split(" ")[0]}),e.jsx("div",{className:"text-[10px] text-white/25 mt-0.5",children:"per km"})]}),e.jsxs("div",{className:"group/stat",children:[e.jsx("div",{className:"text-[10px] font-medium uppercase tracking-widest text-white/30 mb-1.5 group-hover/stat:text-[#FC4C02]/50 transition-colors",children:"Elevation"}),e.jsx("div",{className:"text-lg font-semibold text-white/90 group-hover/stat:text-[#FC4C02] transition-colors",children:Math.round(t.total_elevation_gain)}),e.jsx("div",{className:"text-[10px] text-white/25 mt-0.5",children:"meters"})]})]}),(t.average_heartrate||t.suffer_score)&&e.jsxs("div",{className:"flex items-center gap-4 pt-3 mt-3 border-t border-white/[0.05]",children:[t.average_heartrate&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs group/metric hover:text-[#FC4C02] transition-colors cursor-default",children:[e.jsx(F,{className:"w-3.5 h-3.5 text-white/30 group-hover/metric:text-[#FC4C02]/70"}),e.jsxs("span",{className:"text-white/50 group-hover/metric:text-[#FC4C02]",children:[Math.round(t.average_heartrate)," bpm"]})]}),t.suffer_score&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs group/metric hover:text-[#FC4C02] transition-colors cursor-default",children:[e.jsx(U,{className:"w-3.5 h-3.5 text-white/30 group-hover/metric:text-[#FC4C02]/70"}),e.jsxs("span",{className:"text-white/50 group-hover/metric:text-[#FC4C02]",children:["Suffer Score: ",t.suffer_score]})]})]})]})]})},t.id))}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("a",{href:"https://www.strava.com/athletes/124531733",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2.5 px-6 py-3 bg-[#FC4C02]/10 hover:bg-[#FC4C02] border border-[#FC4C02]/30 hover:border-[#FC4C02] rounded-lg transition-all font-medium group shadow-lg shadow-[#FC4C02]/10 hover:shadow-[#FC4C02]/20",children:[e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M15.387 17.944l-2.089-4.116h-3.065L15.387 24l5.15-10.172h-3.066m-7.008-5.599l2.836 5.598h4.172L10.463 0l-7 13.828h4.169"})}),e.jsx("span",{children:"View All Activities on Strava"}),e.jsx(f,{className:"w-4 h-4 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})})]})},q=()=>e.jsxs("div",{className:"space-y-24 animate-pulse",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"h-8 w-64 bg-white/5 rounded"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(r=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-8 h-56",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-lg"}),e.jsx("div",{className:"h-6 w-20 bg-white/5 rounded-full"})]}),e.jsx("div",{className:"h-12 w-24 bg-white/10 rounded mb-2"}),e.jsx("div",{className:"h-4 w-32 bg-white/5 rounded"})]},r))}),e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"h-8 w-64 bg-white/5 rounded mb-6"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(r=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 h-32",children:[e.jsx("div",{className:"h-4 w-24 bg-white/10 rounded mb-4"}),e.jsx("div",{className:"h-8 w-16 bg-white/10 rounded"})]},r))})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"h-8 w-48 bg-white/5 rounded"}),e.jsx("div",{className:"h-64 bg-white/5 border border-white/10 rounded-lg"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-8 w-56 bg-white/5 rounded"}),[1,2,3].map(r=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6 h-64",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-6 w-48 bg-white/10 rounded mb-2"}),e.jsx("div",{className:"h-4 w-32 bg-white/5 rounded"})]}),e.jsx("div",{className:"h-10 w-32 bg-white/10 rounded-lg"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-4 mt-6",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 h-20",children:[e.jsx("div",{className:"h-3 w-16 bg-white/10 rounded mb-2"}),e.jsx("div",{className:"h-6 w-12 bg-white/10 rounded"})]},s))})]},r))]})]}),v="strava_data_cache",M=900*1e3,D=1440*60*1e3;class c{static get(){try{const s=localStorage.getItem(v);if(!s)return null;const a=JSON.parse(s);return Date.now()-a.timestamp>D?(m.debug("Cache expired (>24h), clearing"),this.clear(),null):a}catch(s){return m.error("Error reading Strava cache:",s),null}}static set(s,a){try{const t={stats:s,activities:a,timestamp:Date.now(),lastApiCall:Date.now()};localStorage.setItem(v,JSON.stringify(t)),m.debug("Strava data cached successfully")}catch(t){m.error("Error saving Strava cache:",t)}}static updateLastApiCall(){try{const s=this.get();s&&(s.lastApiCall=Date.now(),localStorage.setItem(v,JSON.stringify(s)))}catch(s){m.error("Error updating API call timestamp:",s)}}static canMakeApiCall(){const s=this.get();return s?Date.now()-s.lastApiCall>=M:!0}static timeUntilNextCall(){const s=this.get();if(!s)return 0;const a=Date.now()-s.lastApiCall,t=M-a;return Math.max(0,t)}static getCacheAge(){const s=this.get();return s?Math.floor((Date.now()-s.timestamp)/6e4):0}static clear(){try{localStorage.removeItem(v),m.debug("Strava cache cleared")}catch(s){m.error("Error clearing Strava cache:",s)}}static hasFreshCache(){const s=this.get();return s?Date.now()-s.timestamp<D:!1}}class G{memoryCache=null;MEMORY_CACHE_DURATION=60*1e3;async getData(){if(this.memoryCache&&Date.now()-this.memoryCache.timestamp<this.MEMORY_CACHE_DURATION)return console.log("Using in-memory cache"),this.memoryCache.data;const s=c.canMakeApiCall(),a=c.get();if(a&&!s){const t=Math.ceil(c.timeUntilNextCall()/6e4);console.log(`Using cached data (rate limit protection: ${t}m until next call allowed)`);const i={stats:a.stats,activities:a.activities};return this.memoryCache={data:i,timestamp:Date.now()},i}try{console.log("Fetching fresh data from Strava API");const t=await R.functions.invoke("strava-proxy");if(t.error){console.error("Strava Edge Function error:",{message:t.error.message,status:t.error.status,context:t.error.context});const l=t.error.message||"Edge Function returned a non-2xx status code";if(l.includes("429")&&a){console.log("Rate limited but cached data available, using cache"),c.updateLastApiCall();const d={stats:a.stats,activities:a.activities};return this.memoryCache={data:d,timestamp:Date.now()},d}throw l.includes("429")?new Error("Strava API rate limit exceeded. Please try again in 15 minutes."):l.includes("401")||l.includes("refresh")?new Error("Strava authentication failed. Please check your API credentials."):new Error(`Failed to fetch Strava data: ${l}`)}if(!t.data){if(a){console.log("Empty response but cached data available, using cache");const l={stats:a.stats,activities:a.activities};return this.memoryCache={data:l,timestamp:Date.now()},l}throw new Error("Empty response from Strava API")}const{stats:i,activities:o}=t.data;if(!i)throw console.error("Missing stats in response:",t.data),new Error("Invalid response: missing stats");if(!o||!Array.isArray(o))throw console.error("Invalid activities in response:",o),new Error("Invalid response: missing or invalid activities");const n={stats:i,activities:o};return c.set(i,o),this.memoryCache={data:n,timestamp:Date.now()},console.log("Fresh data fetched and cached successfully"),n}catch(t){if(a){console.warn("API call failed but cached data available, using cache:",t);const i={stats:a.stats,activities:a.activities};return this.memoryCache={data:i,timestamp:Date.now()},i}throw console.error("Strava client error:",t),t}}async getAthleteStats(){return(await this.getData()).stats}async getRecentActivities(s=10){return(await this.getData()).activities.slice(0,s)}}const _=new G,re=()=>{const[r,s]=h.useState(null),[a,t]=h.useState([]),[i,o]=h.useState(!0),[n,l]=h.useState(null),[d,C]=h.useState(0),[E,y]=h.useState(!1),w=h.useCallback(async()=>{try{l(null);const u=c.hasFreshCache(),x=c.getCacheAge(),[$,I]=await Promise.all([_.getAthleteStats(),_.getRecentActivities(5)]);s($),t(I);const S=c.getCacheAge();y(u&&x===S),C(S)}catch(u){const x=c.get();x?(s(x.stats),t(x.activities),y(!0),C(c.getCacheAge()),l(null)):l(u instanceof Error?u.message:"Failed to load Strava data")}finally{o(!1)}},[]);return h.useEffect(()=>{w()},[w]),e.jsxs("div",{className:"min-h-screen bg-black text-white relative pt-14",children:[e.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-30",style:{background:"radial-gradient(1200px circle at 50% 10%, rgba(255,255,255,0.05), transparent 60%)"}}),e.jsx(L,{title:"Running Journey",description:"Follow my running journey - every mile, every achievement, every step forward",keywords:"strava, running, fitness, marathon, athletics, training",type:"website"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-24 relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx(T,{title:"Beyond Code",subtitle:e.jsx(e.Fragment,{children:"I enjoy running"})}),e.jsxs("a",{href:"https://www.strava.com/athletes/124531733",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2.5 px-6 py-3 bg-white/5 hover:bg-white/10 border border-white/20 hover:border-[#FC4C02]/40 rounded-lg transition-all font-medium text-sm group",children:[e.jsx("svg",{className:"w-5 h-5 text-[#FC4C02]",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M15.387 17.944l-2.089-4.116h-3.065L15.387 24l5.15-10.172h-3.066m-7.008-5.599l2.836 5.598h4.172L10.463 0l-7 13.828h4.169"})}),e.jsx("span",{children:"View on Strava"}),e.jsx(f,{className:"w-4 h-4 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})]}),!i&&!n&&E&&d>0&&e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 text-xs text-white/30",children:[e.jsx(p,{className:"w-3 h-3"}),e.jsxs("span",{children:["Cached ",d<60?`${d}m`:`${Math.floor(d/60)}h`," ago",!c.canMakeApiCall()&&e.jsxs("span",{className:"ml-1.5 text-white/20",children:["Â· Fresh in ",Math.ceil(c.timeUntilNextCall()/6e4),"m"]})]})]}),i?e.jsx("div",{className:"mt-12",children:e.jsx(q,{})}):n?e.jsx("div",{className:"text-center py-24 bg-gradient-to-br from-white/[0.07] to-white/[0.03] border border-white/10 rounded-xl mt-12 relative overflow-hidden",children:e.jsxs("div",{className:"max-w-md mx-auto relative",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-white/10 border border-white/20 flex items-center justify-center",children:e.jsx(p,{className:"w-8 h-8 text-white/60"})}),e.jsx("p",{className:"text-white/60 mb-2 text-lg",children:"Unable to load Strava data"}),e.jsx("p",{className:"text-sm text-white/40 mb-6",children:n}),n.includes("rate limit")&&e.jsx("p",{className:"text-xs text-white/30 mb-6",children:"Strava API limits reset every 15 minutes. Please wait a moment and try again."}),e.jsx("button",{onClick:w,className:"px-6 py-3 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg transition-all font-medium",children:"Try Again"})]})}):e.jsxs("div",{className:"mt-12 space-y-24",children:[e.jsx("section",{children:e.jsx(B,{stats:r})}),a.length>0&&e.jsx("section",{children:e.jsx(J,{activities:a})}),a.length>0&&e.jsx("section",{children:e.jsx(Z,{activities:a})})]})]})]})};export{re as default};
