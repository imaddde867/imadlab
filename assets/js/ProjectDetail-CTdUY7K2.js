const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/events-CLQR051h.js","assets/js/index-B1IGmRtD.js","assets/index-9eB0Q-OK.css"])))=>i.map(i=>d[i]);
import{c as R,b as U,r as p,j as e,P as M,L as y,B as q,_ as S,s as j}from"./index-B1IGmRtD.js";import{u as w}from"./useQuery-BA7-oFOl.js";import{S as B}from"./SEO-C_LV3HvV.js";import{B as F,S as O,G as V,e as E}from"./tag-variants-DM6AmVt5.js";import{s as $}from"./markdown-utils-kUX-X2ax.js";import{t as G}from"./tags-BdSag13u.js";import{r as K,C as z}from"./CardItem-Bp5V002J.js";import{u as J,p as H,P as Q}from"./ProjectCard-aQrhF2sB.js";import{u as L}from"./useIntersectionObserver-Dp7KdSfc.js";import{P as W,a as Y,c as X}from"./content-selects-Bl1-GPQZ.js";import{r as Z}from"./prerender-data-DtJPnrxF.js";import{A as T}from"./arrow-left-DkhwOUPU.js";import{E as g}from"./external-link-Cz28fLjv.js";import{C as k}from"./code-D8i6WOgg.js";import{C as ee}from"./calendar-BbdJ88Zm.js";import{C as te,a as re}from"./chevron-up-DFEkHWQt.js";import"./copy-DLv6lLks.js";import"./SpotlightCard-Boy7UEMB.js";const ae=R("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),se={Explainium:"Explainium: Local LLM Procedural Knowledge Extraction",InfiniteChessAI:"InfiniteChessAI: Self-Improving Chess Engine in SwiftUI","Spiral Untangler ANN":"Neural Network for Nonlinear Classification (NumPy)"},ie=i=>{const s=i?.trim();return s?se[s]??s:i},oe=({currentId:i,tags:s})=>{const l=p.useMemo(()=>E(s),[s]),{ref:d,isIntersecting:n}=L({rootMargin:"200px"}),{data:t=[]}=w({queryKey:["related-projects",i,l.slice().sort().join(",")],enabled:s.length>0&&n,queryFn:async()=>{const{data:a,error:c}=await j.from("projects").select(W).overlaps("tech_tags",l).neq("id",i).order("created_at",{ascending:!1}).limit(3);if(c)throw c;return a},staleTime:6e4});return!t.length&&!n?null:e.jsxs("section",{ref:d,className:"mt-12 border-t border-white/10 pt-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Related projects"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(a=>e.jsx(Q,{project:a,linkTo:`/projects/${a.id}`,linkLabel:"View Project"},a.id))})]})},le=({currentId:i,tags:s})=>{const l=p.useMemo(()=>E(s),[s]),{ref:d,isIntersecting:n}=L({rootMargin:"200px"}),{data:t=[]}=w({queryKey:["related-posts",i,l.slice().sort().join(",")],enabled:s.length>0&&n,queryFn:async()=>{const{data:a,error:c}=await j.from("posts").select(Y).overlaps("tags",l).order("published_date",{ascending:!1}).limit(3);if(c)throw c;return a},staleTime:6e4});return!t.length&&!n?null:e.jsxs("section",{ref:d,className:"mt-12 border-t border-white/10 pt-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Related articles"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(a=>e.jsx(z,{title:a.title,tags:a.tags||[],date:new Date(a.published_date).toLocaleDateString("en-US"),excerpt:a.excerpt||"",linkTo:`/blogs/${a.slug}`,linkLabel:"Read",readTime:a.read_time||void 0,isBlog:!0,image_url:a.image_url||void 0},a.id))})]})},ke=()=>{const{id:i}=U(),[s,l]=p.useState(!1),d=p.useMemo(()=>i?Z(`project:${i}`):void 0,[i]),n=p.useRef(d?Date.now():void 0),{data:t,isLoading:a,error:c}=w({queryKey:["project",i],queryFn:async()=>{if(!i)throw new Error("No project ID provided");const{data:r,error:u}=await j.from("projects").select(X).eq("id",i).maybeSingle();if(u)throw u;return r},enabled:!!i,initialData:d,initialDataUpdatedAt:n.current}),{data:h}=J(t?.repo_url);if(a)return e.jsx(M,{text:"Loading project...",variant:"orbit"});if(c||!t)return e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Project Not Found"}),e.jsx("p",{className:"text-white/60 mb-8",children:"The project you're looking for doesn't exist."}),e.jsx(y,{to:"/projects",children:e.jsxs(q,{className:"bg-white/10 hover:bg-white/20",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Back to Projects"]})})]})});const o=t.tech_tags?.filter(r=>!!(r&&r.trim()))??[],C=t.full_description?(()=>{const r=$(t.full_description??"");return r.slice(0,155)+(r.length>155?"...":"")})():"Explore a highlighted data or AI project delivered by Imad Eddine El Mouss.",_=t.description?.trim().length?t.description.trim():C,P=[{name:"Home",path:"/"},{name:"Projects",path:"/projects"},{name:t.title,url:`https://imadlab.me/projects/${t.id}`}],m=ie(t.title),x=K(t.image_url),b=`https://imadlab.me/projects/${t.id}`,I={"@context":"https://schema.org","@type":t.repo_url?"SoftwareApplication":"TechArticle",name:m,headline:m,description:_,url:b,image:x||void 0,keywords:o.length?o.join(", "):void 0,datePublished:t.created_at,dateModified:t.updated_at??t.created_at,author:{"@type":"Person",name:"Imad Eddine",url:"https://imadlab.me"},sameAs:[t.repo_url,t.demo_url].filter(Boolean),applicationCategory:t.repo_url?"DeveloperApplication":void 0,operatingSystem:t.repo_url?"Cross-platform":void 0,offers:t.repo_url?{"@type":"Offer",price:"0",priceCurrency:"USD"}:void 0,codeRepository:t.repo_url||void 0},D=(t.full_description??"").includes("```mermaid"),f=H(t.repo_url),A=f?{owner:f.owner,name:f.repo}:void 0,v=h?.pushed_at??h?.updated_at??null,N=(()=>{if(!v)return null;const r=new Date(v);return Number.isNaN(r.getTime())?null:r.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})();return e.jsxs("div",{className:"min-h-screen bg-black text-white pt-14",children:[e.jsx(B,{title:m,description:_,keywords:o.length?o.join(", "):"data engineering, machine learning, ai, programming",type:"project",schemaType:"CreativeWork",publishedTime:t.created_at,modifiedTime:t.updated_at??t.created_at,image:x||void 0,imageAlt:m,tags:o,breadcrumbs:P,structuredData:I,url:b}),e.jsx(F,{to:"/projects",label:"Back to Projects",icon:e.jsx(T,{className:"w-4 h-4 mr-2 transition-transform group-hover:-translate-x-1"}),right:t.repo_url||t.demo_url?e.jsxs("div",{className:"flex items-center gap-2",children:[t.demo_url&&e.jsxs("a",{href:t.demo_url,target:"_blank",rel:"noopener noreferrer",onClick:()=>{S(async()=>{const{logEvent:r}=await import("./events-CLQR051h.js");return{logEvent:r}},__vite__mapDeps([0,1,2])).then(({logEvent:r})=>r("demo_click",{project_id:t.id,demo_url:t.demo_url})).catch(()=>{})},className:"inline-flex items-center gap-2 px-3 py-1.5 bg-white/10 hover:bg-white/15 rounded-md text-white/90 hover:text-white transition-all duration-200 text-sm",children:[e.jsx(g,{className:"w-4 h-4"}),"Live Demo"]}),t.repo_url&&e.jsxs("a",{href:t.repo_url,target:"_blank",rel:"noopener noreferrer",onClick:()=>{S(async()=>{const{logEvent:r}=await import("./events-CLQR051h.js");return{logEvent:r}},__vite__mapDeps([0,1,2])).then(({logEvent:r})=>r("repo_click",{project_id:t.id,repo_url:t.repo_url})).catch(()=>{})},className:"inline-flex items-center gap-2 px-3 py-1.5 bg-white/10 hover:bg-white/15 rounded-md text-white/90 hover:text-white transition-all duration-200 text-sm",children:[e.jsx(k,{className:"w-4 h-4"}),"View Code",e.jsx(g,{className:"w-3 h-3"})]})]}):void 0}),e.jsx("div",{className:"container-narrow mt-4",children:e.jsx(O,{title:m})}),e.jsx("header",{className:"relative pt-8 md:pt-12 pb-10",children:e.jsxs("div",{className:"container-narrow",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-6 leading-tight",children:m}),e.jsxs("div",{className:"flex flex-wrap items-center gap-y-4 gap-x-6 mb-8",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/70",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),h&&e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-white/70",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ae,{className:"w-4 h-4 text-white/50"}),h.stargazers_count]}),N&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-white/50",children:"Updated"}),N]})]}),o.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsx("span",{className:"text-sm text-white/70",children:"Technologies:"}),(s?o:o.slice(0,3)).map((r,u)=>e.jsx(y,{to:G(r),className:"px-2 py-1 text-xs bg-white/10 rounded-md text-white/90 hover:bg-white/20",children:r},u)),o.length>3&&e.jsx("button",{onClick:()=>l(!s),className:"text-xs text-blue-400 hover:text-blue-300 flex items-center","aria-label":s?"Show fewer tags":"Show all tags",children:s?e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"w-3 h-3 mr-1"}),"Show less"]}):e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"w-3 h-3 mr-1"}),"+",o.length-3," more"]})})]})]}),t.description&&e.jsx("p",{className:"text-lg md:text-xl text-white/80 leading-relaxed max-w-3xl",children:t.description})]})}),x&&e.jsx("div",{className:"w-full container-narrow mb-12",children:e.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-lg shadow-xl",children:e.jsx("img",{src:x,alt:t.title,width:"1200",height:"675",className:"w-full h-full object-cover",loading:"lazy",decoding:"async"})})}),e.jsxs("main",{className:"container-narrow pb-16",children:[t.full_description?e.jsx(V,{source:t.full_description,className:"prose-lg",repository:A,config:{enableMermaid:D}}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-white/60 mb-4",children:"No detailed description available for this project."}),(t.repo_url||t.demo_url)&&e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[t.demo_url&&e.jsxs("a",{href:t.demo_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-all duration-200",children:[e.jsx(g,{className:"w-4 h-4"}),"Live Demo"]}),t.repo_url&&e.jsxs("a",{href:t.repo_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-all duration-200",children:[e.jsx(k,{className:"w-4 h-4"}),"View Source Code",e.jsx(g,{className:"w-4 h-4"})]})]})]}),e.jsx(oe,{currentId:t.id,tags:o}),e.jsx(le,{currentId:t.id,tags:o})]})]})};export{ke as default};
