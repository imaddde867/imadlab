{"version":3,"file":"tags-BdSag13u.js","sources":["../../../src/lib/tags.ts"],"sourcesContent":["export const normalizeTag = (tag: string): string => tag.trim();\nexport const tagSlug = (tag: string): string =>\n  normalizeTag(tag)\n    .toLowerCase()\n    .replace(/[^a-z0-9]+/g, '-')\n    .replace(/^-+|-+$/g, '');\nexport const tagToUrl = (tag: string): string => `/tags/${encodeURIComponent(tagSlug(tag))}`;\nexport const tagMatchesSlug = (tag: string, slug: string): boolean => tagSlug(tag) === slug;\n\nexport const getTopTags = <T>(\n  items: T[],\n  extractTags: (item: T) => string[] | null | undefined,\n  limit = 12\n): string[] => {\n  const counts = new Map<string, number>();\n  for (const item of items) {\n    const tags = extractTags(item) ?? [];\n    for (const tag of tags) {\n      const key = tag.trim();\n      if (!key) continue;\n      counts.set(key, (counts.get(key) || 0) + 1);\n    }\n  }\n  return Array.from(counts.entries())\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, limit)\n    .map(([tag]) => tag);\n};\n"],"names":["normalizeTag","tag","tagSlug","tagToUrl","tagMatchesSlug","slug","getTopTags","items","extractTags","limit","counts","item","tags","key","a","b"],"mappings":"AAAO,MAAMA,EAAgBC,GAAwBA,EAAI,KAAA,EAC5CC,EAAWD,GACtBD,EAAaC,CAAG,EACb,YAAA,EACA,QAAQ,cAAe,GAAG,EAC1B,QAAQ,WAAY,EAAE,EACdE,EAAYF,GAAwB,SAAS,mBAAmBC,EAAQD,CAAG,CAAC,CAAC,GAC7EG,EAAiB,CAACH,EAAaI,IAA0BH,EAAQD,CAAG,IAAMI,EAE1EC,EAAa,CACxBC,EACAC,EACAC,EAAQ,KACK,CACb,MAAMC,MAAa,IACnB,UAAWC,KAAQJ,EAAO,CACxB,MAAMK,EAAOJ,EAAYG,CAAI,GAAK,CAAA,EAClC,UAAWV,KAAOW,EAAM,CACtB,MAAMC,EAAMZ,EAAI,KAAA,EACXY,GACLH,EAAO,IAAIG,GAAMH,EAAO,IAAIG,CAAG,GAAK,GAAK,CAAC,CAC5C,CACF,CACA,OAAO,MAAM,KAAKH,EAAO,QAAA,CAAS,EAC/B,KAAK,CAACI,EAAGC,IAAMA,EAAE,CAAC,EAAID,EAAE,CAAC,CAAC,EAC1B,MAAM,EAAGL,CAAK,EACd,IAAI,CAAC,CAACR,CAAG,IAAMA,CAAG,CACvB"}