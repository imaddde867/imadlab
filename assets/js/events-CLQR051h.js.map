{"version":3,"file":"events-CLQR051h.js","sources":["../../../src/lib/events.ts"],"sourcesContent":["import { supabase } from '@/integrations/supabase/client';\nimport { isAllowed } from '@/lib/consent';\n\nexport async function logEvent(name: string, data: Record<string, unknown> = {}) {\n  try {\n    if (!isAllowed('analytics')) return;\n    const sessionId = sessionStorage.getItem('analytics_session_id') || null;\n    const path = typeof window !== 'undefined' ? window.location.pathname : null;\n    await supabase.from('events').insert({\n      name,\n      data,\n      path,\n      session_id: sessionId,\n    } as unknown as Record<string, unknown>);\n  } catch {\n    // ignore\n  }\n}\n"],"names":["logEvent","name","data","isAllowed","sessionId","path","supabase"],"mappings":"gDAGA,eAAsBA,EAASC,EAAcC,EAAgC,GAAI,CAC/E,GAAI,CACF,GAAI,CAACC,EAAU,WAAW,EAAG,OAC7B,MAAMC,EAAY,eAAe,QAAQ,sBAAsB,GAAK,KAC9DC,EAAO,OAAO,OAAW,IAAc,OAAO,SAAS,SAAW,KACxE,MAAMC,EAAS,KAAK,QAAQ,EAAE,OAAO,CACnC,KAAAL,EACA,KAAAC,EACA,KAAAG,EACA,WAAYD,CAAA,CACyB,CACzC,MAAQ,CAER,CACF"}