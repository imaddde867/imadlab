const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/events-CLQR051h.js","assets/js/index-B1IGmRtD.js","assets/index-9eB0Q-OK.css"])))=>i.map(i=>d[i]);
import{r as i,_ as m,j as a,L as x,s as p}from"./index-B1IGmRtD.js";import{u as g}from"./useQuery-BA7-oFOl.js";import{S as b}from"./SEO-C_LV3HvV.js";import{S as f}from"./SectionHeader-8u_d-3EY.js";import{b as d,t as h}from"./tags-BdSag13u.js";const E=()=>{const{data:l=[]}=g({queryKey:["all-post-tags"],queryFn:async()=>{const{data:t,error:e}=await p.from("posts").select("tags");if(e)throw e;return t??[]},staleTime:6e4}),{data:c=[]}=g({queryKey:["all-project-tags"],queryFn:async()=>{const{data:t,error:e}=await p.from("projects").select("tech_tags");if(e)throw e;return t??[]},staleTime:6e4}),n=i.useMemo(()=>{const t=new Map;for(const e of l)for(const o of e.tags||[]){const r=d(o);if(!r)continue;const s=t.get(r)||{slug:r,label:o,posts:0,projects:0,total:0};s.label=s.label||o,s.posts+=1,s.total+=1,t.set(r,s)}for(const e of c)for(const o of e.tech_tags||[]){const r=d(o);if(!r)continue;const s=t.get(r)||{slug:r,label:o,posts:0,projects:0,total:0};s.label=s.label||o,s.projects+=1,s.total+=1,t.set(r,s)}return Array.from(t.values()).sort((e,o)=>o.total-e.total)},[l,c]);i.useEffect(()=>{m(async()=>{const{logEvent:t}=await import("./events-CLQR051h.js");return{logEvent:t}},__vite__mapDeps([0,1,2])).then(({logEvent:t})=>t("tags_index_view",{})).catch(()=>{})},[]);const u=n.length?[{"@context":"https://schema.org","@type":"ItemList",name:"All tags",numberOfItems:n.length,itemListElement:n.map((t,e)=>({"@type":"ListItem",position:e+1,name:t.label,url:`https://imadlab.me${h(t.label)}`}))}]:void 0;return a.jsxs("div",{className:"min-h-screen bg-black text-white section pt-14",children:[a.jsx(b,{title:"Tags",description:"Browse all tags across posts and projects.",type:"website",schemaType:"CollectionPage",breadcrumbs:[{name:"Home",path:"/"},{name:"Tags",path:"/tags"}],additionalSchemas:u}),a.jsxs("div",{className:"container-site",children:[a.jsx(f,{title:a.jsx("span",{className:"text-brand-gradient",children:"Tags"})}),n.length===0?a.jsx("div",{className:"text-center py-12 text-white/60",children:"No tags yet."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:n.map(t=>a.jsxs(x,{to:h(t.label),onClick:()=>{m(async()=>{const{logEvent:e}=await import("./events-CLQR051h.js");return{logEvent:e}},__vite__mapDeps([0,1,2])).then(({logEvent:e})=>e("tag_click",{tag:t.label})).catch(()=>{})},className:"flex items-center justify-between rounded-md border border-white/10 bg-white/5 px-4 py-3 hover:bg-white/10 transition",children:[a.jsxs("span",{className:"text-white/90",children:["#",t.label]}),a.jsxs("span",{className:"text-xs text-white/60",children:[t.posts," posts Â· ",t.projects," projects"]})]},t.slug))})]})]})};export{E as default};
