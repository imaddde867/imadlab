import{r as o,j as e,L as c,G as f,s as b}from"./index-B1IGmRtD.js";import{u as v}from"./useQuery-BA7-oFOl.js";import{S as y}from"./SEO-C_LV3HvV.js";import{N}from"./NewsletterSignup-BVSmO19U.js";import{r as S}from"./prerender-data-DtJPnrxF.js";import{S as P}from"./SectionHeader-8u_d-3EY.js";import{g as T,t as L}from"./tags-BdSag13u.js";import{P as k}from"./content-selects-Bl1-GPQZ.js";import{P as A}from"./ProjectCard-aQrhF2sB.js";import{A as C}from"./arrow-left-DkhwOUPU.js";import"./input-DGhUk4PP.js";import"./CardItem-Bp5V002J.js";import"./SpotlightCard-Boy7UEMB.js";import"./external-link-Cz28fLjv.js";const V=()=>{const d=o.useMemo(()=>S("projects"),[]),p=o.useRef(d?.length?Date.now():void 0),[l,x]=o.useState("newest"),{data:s=[],isLoading:g,isFetching:u}=v({queryKey:["projects"],queryFn:async()=>{const{data:t,error:i}=await b.from("projects").select(k).order("created_at",{ascending:!1});if(i)throw i;return t},initialData:d?.length?d:void 0,initialDataUpdatedAt:p.current,staleTime:1e3*60}),h=g&&!s.length&&!u,n=o.useMemo(()=>{if(s.length<=1)return s;const t=[...s],i=r=>new Date(r.created_at).getTime();switch(l){case"title-asc":return t.sort((r,a)=>r.title.localeCompare(a.title,void 0,{sensitivity:"base"}));case"title-desc":return t.sort((r,a)=>a.title.localeCompare(r.title,void 0,{sensitivity:"base"}));case"newest":default:return t.sort((r,a)=>i(a)-i(r))}},[s,l]),m=o.useMemo(()=>T(s,t=>t.tech_tags),[s]),j=l==="title-asc"?"Ascending":"Descending",w=n.length>0?[{"@context":"https://schema.org","@type":"ItemList",name:"Projects list",itemListOrder:j,numberOfItems:n.length,itemListElement:n.map((t,i)=>({"@type":"ListItem",position:i+1,url:`https://imadlab.me/projects/${t.id}`,name:t.title,description:t.description??void 0}))}]:void 0;return e.jsxs("div",{className:"min-h-screen bg-black text-white section pt-14",children:[e.jsx(y,{title:"Projects",description:"Selected applied research projects in multimodal industrial AI, procedural knowledge extraction, and deployable data/ML systems.",keywords:"industrial ai projects, applied research engineering, multimodal data fusion projects, procedural knowledge extraction, deployable ai systems, edge-to-cloud architecture",type:"website",schemaType:"CollectionPage",breadcrumbs:[{name:"Home",path:"/"},{name:"Projects",path:"/projects"}],additionalSchemas:w}),e.jsxs("div",{className:"container-site",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(c,{to:"/",className:"inline-flex items-center text-white/60 hover:text-white mb-8 transition-colors",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),e.jsx("div",{children:e.jsx(P,{title:e.jsx("span",{className:"text-brand-gradient",children:"Projects"})})}),(m.length>0||s.length>1)&&e.jsxs("div",{className:"mb-8 flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[m.length>0&&e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[e.jsx("h3",{className:"text-sm text-white/60",children:"Popular tags"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(c,{to:"/tags",className:"rounded-md border border-white/10 bg-white/5 px-2 py-1 text-white/60 hover:text-white hover:bg-white/10 transition-colors",children:"All tags"}),e.jsx(c,{to:"/search",className:"rounded-md border border-white/10 bg-white/5 px-2 py-1 text-white/60 hover:text-white hover:bg-white/10 transition-colors",children:"Search"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((t,i)=>e.jsx(c,{to:L(t),className:`px-2 py-1 text-xs bg-white/10 rounded-md text-white/90 hover:bg-white/20 ${i>=5?"hidden md:inline-flex":"inline-flex"}`,children:t},t))})]}),s.length>1&&e.jsx("div",{className:"flex items-center gap-2 text-xs text-white/60 md:pt-1",children:e.jsxs("label",{className:"flex items-center gap-2",children:["Sort by",e.jsxs("select",{value:l,onChange:t=>x(t.target.value),className:"rounded-md border border-white/10 bg-white/10 px-2 py-1 text-xs text-white/90 focus:outline-none focus:ring-2 focus:ring-white/30",children:[e.jsx("option",{value:"newest",children:"Newest"}),e.jsx("option",{value:"title-asc",children:"Title A-Z"}),e.jsx("option",{value:"title-desc",children:"Title Z-A"})]})]})})]}),h?e.jsx(f,{count:6,columns:3}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 grid-gap-default",children:n.map(t=>e.jsx(A,{project:t,linkTo:`/projects/${t.id}`,linkLabel:"View Project"},t.id))}),!h&&s.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-white/60 mb-4",children:"No projects yet"})}),e.jsx(N,{})]})]})};export{V as default};
