import{e as m,a as u,r as d,s as o,j as e,L as s,B as p}from"./index-B1IGmRtD.js";const b=()=>{const i=m(),{toast:t}=u(),[l,c]=d.useState(null);d.useEffect(()=>{(async()=>{const{data:{user:r}}=await o.auth.getUser();r?c({email:r.email}):(i("/admin/login"),t({title:"Unauthorized",description:"Please log in to access the admin dashboard.",variant:"destructive"}))})();const{data:{subscription:h}}=o.auth.onAuthStateChange((r,n)=>{n?.user?c(n.user?{email:n.user.email}:null):(i("/admin/login"),t({title:"Logged out",description:"Your session has ended.",variant:"destructive"}))});return()=>{h.unsubscribe()}},[i,t]);const x=async()=>{const{error:a}=await o.auth.signOut();a?t({title:"Logout Error",description:a.message,variant:"destructive"}):(t({title:"Logged out successfully!"}),i("/admin/login"))};return l===null?e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsx("div",{className:"text-white/60 text-xl",children:"Checking authentication..."})}):e.jsx("div",{className:"min-h-screen bg-black text-white pt-14",children:e.jsxs("div",{className:"container-site max-w-3xl space-y-6 pb-16",children:[e.jsxs(s,{to:"/",className:"inline-flex items-center text-white/60 hover:text-white transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back to Home"]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Admin"}),e.jsx("p",{className:"text-sm text-white/60",children:l?.email})]}),e.jsx(p,{variant:"outline",onClick:x,children:"Log out"})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs(s,{to:"/admin/posts",className:"flex items-center justify-between gap-3 rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-sm font-semibold text-white hover:border-white/20",children:[e.jsx("span",{children:"Blog posts"}),e.jsx("span",{className:"text-xs font-normal text-white/50",children:"Create + edit"})]}),e.jsxs(s,{to:"/admin/projects",className:"flex items-center justify-between gap-3 rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-sm font-semibold text-white hover:border-white/20",children:[e.jsx("span",{children:"Projects"}),e.jsx("span",{className:"text-xs font-normal text-white/50",children:"Manage portfolio"})]}),e.jsxs(s,{to:"/admin/emails",className:"flex items-center justify-between gap-3 rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-sm font-semibold text-white hover:border-white/20",children:[e.jsx("span",{children:"Email"}),e.jsx("span",{className:"text-xs font-normal text-white/50",children:"Queue + subscribers"})]}),e.jsxs(s,{to:"/admin/analytics",className:"flex items-center justify-between gap-3 rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-sm font-semibold text-white hover:border-white/20",children:[e.jsx("span",{children:"Analytics"}),e.jsx("span",{className:"text-xs font-normal text-white/50",children:"Traffic + performance"})]})]})]})})};export{b as default};
