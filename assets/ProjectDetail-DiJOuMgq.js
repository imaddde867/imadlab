import{aE as f,r as b,ar as N,j as e,L as v,aD as d,aH as m,aq as h,aG as _,z as y,y as k}from"./vendor-BWaHT4c5.js";import{B as S,s as C}from"./index-C2wzmnot.js";import{S as L}from"./Seo-DbO3eCLd.js";import{P as T}from"./LoadingStates-Bc7aBWMd.js";import{s as D,B as E,G as P}from"./GfmMarkdown-D6zD8fB7.js";const G=()=>{var n,c;const{id:s}=f(),[i,x]=b.useState(!1),{data:t,isLoading:p,error:g}=N({queryKey:["project",s],queryFn:async()=>{if(!s)throw new Error("No project ID provided");const{data:r,error:l}=await C.from("projects").select("*, full_description, image_url").eq("id",s).maybeSingle();if(l)throw l;return r},enabled:!!s});if(p)return e.jsx(T,{text:"Loading project...",variant:"orbit"});if(g||!t)return e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Project Not Found"}),e.jsx("p",{className:"text-white/60 mb-8",children:"The project you're looking for doesn't exist."}),e.jsx(v,{to:"/projects",children:e.jsxs(S,{className:"bg-white/10 hover:bg-white/20",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"Back to Projects"]})})]})});const a=((n=t.tech_tags)==null?void 0:n.filter(r=>!!(r&&r.trim())))??[],j=t.full_description?(()=>{const r=D(t.full_description??"");return r.slice(0,155)+(r.length>155?"...":"")})():"Explore a highlighted data or AI project delivered by Imad Eddine El Mouss.",o=(c=t.description)!=null&&c.trim().length?t.description.trim():j,u=[{name:"Home",path:"/"},{name:"Projects",path:"/projects"},{name:t.title,url:`https://imadlab.me/projects/${t.id}`}],w=t.repo_url?[{"@context":"https://schema.org","@type":"SoftwareSourceCode",name:t.title,description:o,codeRepository:t.repo_url,url:`https://imadlab.me/projects/${t.id}`,dateCreated:t.created_at,dateModified:t.updated_at??t.created_at,programmingLanguage:a}]:void 0;return e.jsxs("div",{className:"min-h-screen bg-black text-white",children:[e.jsx(L,{title:t.title,description:o,keywords:a.length?a.join(", "):"data engineering, machine learning, ai, programming",type:"project",schemaType:"CreativeWork",publishedTime:t.created_at,modifiedTime:t.updated_at??t.created_at,image:t.image_url||void 0,imageAlt:t.title,tags:a,breadcrumbs:u,additionalSchemas:w}),e.jsx(E,{to:"/projects",label:"Back to Projects",icon:e.jsx(d,{className:"w-4 h-4 mr-2 transition-transform group-hover:-translate-x-1"}),right:t.repo_url?e.jsxs("a",{href:t.repo_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-white/10 hover:bg-white/15 rounded-md text-white/90 hover:text-white transition-all duration-200 text-sm",children:[e.jsx(m,{className:"w-4 h-4"}),"View Code",e.jsx(h,{className:"w-3 h-3"})]}):void 0}),e.jsx("header",{className:"relative pt-8 md:pt-12 pb-10",children:e.jsxs("div",{className:"container-narrow",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-6 leading-tight",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-y-4 gap-x-6 mb-8",children:[e.jsxs("div",{className:"flex items-center text-sm text-white/70",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),a.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsx("span",{className:"text-sm text-white/70",children:"Technologies:"}),(i?a:a.slice(0,3)).map((r,l)=>e.jsx("span",{className:"px-2 py-1 text-xs bg-white/10 rounded-md text-white/90",children:r},l)),a.length>3&&e.jsx("button",{onClick:()=>x(!i),className:"text-xs text-blue-400 hover:text-blue-300 flex items-center","aria-label":i?"Show fewer tags":"Show all tags",children:i?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-3 h-3 mr-1"}),"Show less"]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-3 h-3 mr-1"}),"+",a.length-3," more"]})})]})]}),t.description&&e.jsx("p",{className:"text-lg md:text-xl text-white/80 leading-relaxed max-w-3xl",children:t.description})]})}),t.image_url&&e.jsx("div",{className:"w-full container-narrow mb-12",children:e.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-lg shadow-xl",children:e.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-full object-cover",loading:"lazy"})})}),e.jsx("main",{className:"container-narrow pb-16",children:t.full_description?e.jsx(P,{source:t.full_description,className:"prose-lg"}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-white/60 mb-4",children:"No detailed description available for this project."}),t.repo_url&&e.jsxs("a",{href:t.repo_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-all duration-200",children:[e.jsx(m,{className:"w-4 h-4"}),"View Source Code",e.jsx(h,{className:"w-4 h-4"})]})]})})]})};export{G as default};
