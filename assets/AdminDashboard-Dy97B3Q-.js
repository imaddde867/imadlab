import{a$ as u,r as h,j as e,L as a}from"./vendor-BWaHT4c5.js";import{u as g,s as c,B as i}from"./index-C2wzmnot.js";const j=()=>{const r=u(),{toast:t}=g(),[l,d]=h.useState(null);h.useEffect(()=>{(async()=>{const{data:{user:o}}=await c.auth.getUser();o?d({email:o.email}):(r("/admin/login"),t({title:"Unauthorized",description:"Please log in to access the admin dashboard.",variant:"destructive"}))})();const{data:{subscription:x}}=c.auth.onAuthStateChange((o,s)=>{s!=null&&s.user?d(s.user?{email:s.user.email}:null):(r("/admin/login"),t({title:"Logged out",description:"Your session has ended.",variant:"destructive"}))});return()=>{x.unsubscribe()}},[r,t]);const m=async()=>{const{error:n}=await c.auth.signOut();n?t({title:"Logout Error",description:n.message,variant:"destructive"}):(t({title:"Logged out successfully!"}),r("/admin/login"))};return l===null?e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:e.jsx("div",{className:"text-white/60 text-xl",children:"Checking authentication..."})}):e.jsx("div",{className:"min-h-screen bg-black text-white py-12",children:e.jsxs("div",{className:"container-site max-w-4xl",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(a,{to:"/",className:"inline-flex items-center text-white/60 hover:text-white mb-8 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Back to Home"]})}),e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Admin Dashboard"}),e.jsx(i,{onClick:m,className:"bg-red-600 hover:bg-red-700",children:"Logout"})]}),e.jsxs("p",{className:"text-white/70 mb-8",children:["Welcome, ",l==null?void 0:l.email,"!"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(a,{to:"/admin/posts",children:e.jsx(i,{className:"w-full h-24 text-xl bg-white/10 hover:bg-white/20 border border-white/20",children:"Manage Blog Posts"})}),e.jsx(a,{to:"/admin/projects",children:e.jsx(i,{className:"w-full h-24 text-xl bg-white/10 hover:bg-white/20 border border-white/20",children:"Manage Projects"})}),e.jsx(a,{to:"/admin/emails",children:e.jsx(i,{className:"w-full h-24 text-xl bg-white/10 hover:bg-white/20 border border-white/20",children:"Email Management"})}),e.jsx(a,{to:"/admin/analytics",children:e.jsx(i,{className:"w-full h-24 text-xl bg-white/10 hover:bg-white/20 border border-white/20",children:"Analytics Dashboard"})})]})]})})};export{j as default};
