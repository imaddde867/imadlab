<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Meta tags dynamically injected by <Seo /> component via react-helmet-async -->
    <!-- Static fallbacks only for crawlers that don't execute JS -->
    <title>IPKE: Procedural Knowledge Graph Extraction from Industrial Documentation | Imadlab | Research Engineer &amp; Internal CTO</title>
    <meta name="description" content="Privacy-by-Design local LLM pipeline that extracts procedural steps, constraints, and decision points from industrial documents into auditable knowledge graphs." />
    <!-- prerender-seo:start -->
    <link rel="canonical" href="https://imadlab.me/projects/b2aedbfa-caaa-4837-bcd2-0ad236aa8922" />
    <meta property="og:title" content="IPKE: Procedural Knowledge Graph Extraction from Industrial Documentation | Imadlab | Research Engineer &amp; Internal CTO" />
    <meta property="og:description" content="Privacy-by-Design local LLM pipeline that extracts procedural steps, constraints, and decision points from industrial documents into auditable knowledge graphs." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://imadlab.me/projects/b2aedbfa-caaa-4837-bcd2-0ad236aa8922" />
    <meta property="og:image" content="https://raw.githubusercontent.com/imaddde867/IPKE/main/assets/banner.jpg" />
    <meta property="og:image:alt" content="IPKE: Procedural Knowledge Graph Extraction from Industrial Documentation" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="Imadlab" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@imadlab" />
    <meta name="twitter:creator" content="@imadlab" />
    <meta name="twitter:title" content="IPKE: Procedural Knowledge Graph Extraction from Industrial Documentation | Imadlab | Research Engineer &amp; Internal CTO" />
    <meta name="twitter:description" content="Privacy-by-Design local LLM pipeline that extracts procedural steps, constraints, and decision points from industrial documents into auditable knowledge graphs." />
    <meta name="twitter:image" content="https://raw.githubusercontent.com/imaddde867/IPKE/main/assets/banner.jpg" />
    <meta name="twitter:image:alt" content="IPKE: Procedural Knowledge Graph Extraction from Industrial Documentation" />
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"SoftwareApplication","name":"IPKE: Procedural Knowledge Graph Extraction from Industrial Documentation","description":"Privacy-by-Design local LLM pipeline that extracts procedural steps, constraints, and decision points from industrial documents into auditable knowledge graphs.","url":"https://imadlab.me/projects/b2aedbfa-caaa-4837-bcd2-0ad236aa8922","image":"https://raw.githubusercontent.com/imaddde867/IPKE/main/assets/banner.jpg","codeRepository":"https://github.com/imaddde867/IPKE","sameAs":["https://github.com/imaddde867/IPKE"],"datePublished":"2025-12-24T19:02:47.149096+00:00","dateModified":"2026-02-09T12:18:27.145+00:00","author":{"@type":"Person","name":"Imad Eddine El Mouss","url":"https://imadlab.me/about"}}</script>
    <!-- prerender-seo:end -->

    <!-- Favicon and Theme Color -->
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <meta name="theme-color" content="#000000" />

    <!-- Preload hero image for faster LCP on home route -->
    <link rel="preload" as="image" href="/images/hero-moon.avif" type="image/avif" />

    <!-- Font Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Load fonts with font-display: swap for better performance -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript>
      <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    </noscript>
    
    <!-- DNS prefetch for Supabase and Cloudflare Analytics -->
    <link rel="dns-prefetch" href="https://mpkgugcasxpanhrkpkhs.supabase.co">
    <link rel="preconnect" href="https://mpkgugcasxpanhrkpkhs.supabase.co" crossorigin>
    <link rel="dns-prefetch" href="https://static.cloudflareinsights.com">
    <link rel="preconnect" href="https://static.cloudflareinsights.com" crossorigin>
    
    <!-- RSS/JSON Feeds -->
    <link rel="alternate" type="application/rss+xml" title="Imadlab Blog RSS Feed" href="/feed.xml" />
    <link rel="alternate" type="application/feed+json" title="Imadlab Blog JSON Feed" href="/feed.json" />
    <meta name="referrer" content="strict-origin-when-cross-origin" />

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "url": "https://imadlab.me",
      "name": "Imadlab",
      "description": "Applied research and engineering work by Imad Eddine El Mouss on multimodal industrial AI, procedural knowledge extraction, and deployable systems.",
      "publisher": {
        "@type": "Person",
        "name": "Imad Eddine El Mouss",
        "url": "https://imadlab.me/about",
        "sameAs": [
          "https://github.com/imaddde867",
          "https://www.linkedin.com/in/imad-eddine-e-986741262"
        ]
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://duckduckgo.com/?q=site%3Aimadlab.me+{search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>
    <script type="module" crossorigin src="/assets/js/index-B1IGmRtD.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-9eB0Q-OK.css">
  </head>

  <body>
    <h1 style="position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0;">Imadlab | Research Engineer & Internal CTO</h1>
    <div id="root">
<main data-prerender="true" class="prerender-shell">
  <article class="prerender-article">
    <p class="prerender-meta text-sm text-white/60">December 24, 2025</p>
    <h1 class="text-3xl font-bold mb-4">IPKE: Procedural Knowledge Graph Extraction from Industrial Documentation</h1>
    <p class="prerender-tags">Tech: industrial-ai, procedural-knowledge-extraction, knowledge-graphs, local-llm, privacy-by-design, fastapi</p>
    <div class="prerender-image"><img src="https://raw.githubusercontent.com/imaddde867/IPKE/main/assets/banner.jpg" alt="IPKE: Procedural Knowledge Graph Extraction from Industrial Documentation" loading="lazy" decoding="async" /></div>
    <p class="prerender-summary leading-relaxed">Thesis: https://www.theseus.fi/handle/10024/907018

This project focuses on reliable, local extraction of procedural structure from safety-critical manuals: ordered steps, entities/resources, and constraints (e.g., guards and warnings). The core idea is to reduce schema drift by combining Dual Semantic Chunking (DSC) with P3 (Two-Stage Decomposition): first extract an ordered step list, then attach constraints to ...</p>
    <p class="prerender-meta mt-4">Source: <a class="prerender-link inline" href="https://github.com/imaddde867/IPKE" rel="noopener">View repository</a></p>
    <a class="prerender-link mt-6 inline-flex" href="/projects/b2aedbfa-caaa-4837-bcd2-0ad236aa8922">Continue exploring</a>
  </article>
</main>
</div>
    
  <script>window.__PRERENDERED_DATA__ = window.__PRERENDERED_DATA__ || {}; window.__PRERENDERED_DATA__["project:b2aedbfa-caaa-4837-bcd2-0ad236aa8922"] = {"id":"b2aedbfa-caaa-4837-bcd2-0ad236aa8922","title":"IPKE: Procedural Knowledge Graph Extraction from Industrial Documentation","description":"Privacy-by-Design local LLM pipeline that extracts procedural steps, constraints, and decision points from industrial documents into auditable knowledge graphs.","full_description":"Thesis: https://www.theseus.fi/handle/10024/907018\n\nThis project focuses on reliable, local extraction of procedural structure from safety-critical manuals: ordered steps, entities/resources, and constraints (e.g., guards and warnings). The core idea is to reduce schema drift by combining Dual Semantic Chunking (DSC) with P3 (Two-Stage Decomposition): first extract an ordered step list, then attach constraints to the correct steps. Outputs can be visualized as interactive graphs and stored in Neo4j via a containerized deployment. An evaluation suite computes step/adjacency F1, constraint coverage, and a composite Procedural Fidelity score ($\\Phi = 0.5\\cdot\\text{ConstraintCoverage} + 0.3\\cdot\\text{StepF1} + 0.2\\cdot\\text{Kendall}$).\n\nCore math snapshot from [thesis](https://www.theseus.fi/handle/10024/907018):\n\n| Metric | Formula |\n|---|---|\n| DSC cohesion | $\\displaystyle \\text{DSC cohesion}(i,j) = \\frac{1}{j-i} \\sum_{k=i}^{j-1} \\cos(e_k, e_{k+1})$ |\n| Segmentation objective | $\\displaystyle \\text{Segmentation objective} = \\sum_{\\text{segments}} \\text{cohesion}(i,j) - \\lambda K + \\beta \\mathbb{I}[\\text{split after heading}],$\u003Cbr/>$\\beta=0.2$ |\n| ConstraintCoverage | $\\displaystyle \\text{ConstraintCoverage} = \\frac{\\text{matched\\_constraints}}{\\text{gold\\_constraints}}$ |\n| StepF1 matching rule | $\\displaystyle \\text{StepF1: Hungarian 1:1 alignment on cosine similarity, accept match if } \\text{sim} \\ge \\tau,$\u003Cbr/>$\\tau=0.75$ |\n| Procedural Fidelity | $\\displaystyle \\Phi = 0.5\\cdot\\text{ConstraintCoverage} + 0.3\\cdot\\text{StepF1} + 0.2\\cdot\\text{Kendall}$ |\n\n## Pipeline or Architecture\n1. Document ingestion (PDF/DOCX/PPTX/TXT) and text normalization.\n2. Chunking (DSC / fixed / breakpoint) to keep chunks coherent under mid-sized LLM context limits.\n3. LLM-based extraction using pluggable prompting strategies (P3, zero-shot, few-shot, chain-of-thought).\n4. Schema + constraint validation to keep outputs queryable and consistent.\n5. PKG build + canonicalization (NEXT/parallel/gateway relations, GUARD attachments for safety rules).\n6. Serving + visualization via Streamlit, FastAPI (`/extract`, `/config`, `/stats`), and Neo4j (`docker-compose.yml`).\n\n## Dataset/Training Snapshot\nGold labels shipped in `datasets/archive/gold_human/*.json`:\n\n| Document | Steps | Constraints | NEXT edges | Gateways | Parallel groups | Sentence span coverage |\n|---|---:|---:|---:|---:|---:|---:|\n| 3M_OEM_SOP | 29 | 0 | 28 | 2 | 0 | 24 / 86 (0.279) |\n| DOA_Food_Man_Proc_Stor | 40 | 3 | 11 | 1 | 10 | 40 / 641 (0.062) |\n| op_firesafety_guideline | 31 | 8 | 12 | 1 | 3 | 40 / 156 (0.256) |\n| Total | 100 | 11 | 51 | 4 | 13 | 104 / 883 (0.118) |\n\nInference configuration defaults (from `.env.example`, `models/llm/m4_optimization.json`, and `Thesis_IPKE.docx`):\n\n| Setting | Value |\n|---|---|\n| LLM | Mistral-7B-Instruct-v0.2 (GGUF) |\n| Quantization | Q4_K_M |\n| Inference backend | llama.cpp (via llama-cpp-python) |\n| Embeddings | SBERT (all-mpnet-base-v2) |\n| Context window | 8192 (default), 4096 (Apple preset) |\n| Temperature | 0.1 |\n| Max output tokens | 1536 |\n| GPU backend | auto (metal/cuda/cpu) |\n| GPU layers | -1 (all layers) |\n| Chunk size | 2000 |\n| Threads (Apple preset) | 8 |\n| Batch size (Apple preset) | 4 |\n| Max workers | 8 |\n| Random seed | 42 |\n\n## Evaluation/Tracking Snapshot\nKey thesis results summarized in `README.md`:\n\n| Method | Scope | Step F1 | Constraint coverage | Phi |\n|---|---|---:|---:|---:|\n| P3 (Two-Stage Decomposition) | Tier-A documents | 0.377 | 0.708 | 0.611 |\n| Llama-3.1-70B (zero-shot) | 3M SOP | - | 0.000 | 0.187 |\n| P3 (Two-Stage Decomposition) | 3M SOP | - | 0.750 | 0.699 |\n| P3 (earlier setup) | 3M SOP | - | 0.500 | 0.439 |\n\n## Visual Evidence and Artifacts\n![PKG schema](https://raw.githubusercontent.com/imaddde867/IPKE/main/assets/figure_pkg_schema.png)\n\n![Extracted PKG example graph (3M OEM SOP)](https://raw.githubusercontent.com/imaddde867/IPKE/main/assets/graph_example.png)\n\n![Efficiency frontier (Phi)](https://raw.githubusercontent.com/imaddde867/IPKE/main/assets/efficiency_frontier_phi.png)\n\n![Chunking comparison](https://raw.githubusercontent.com/imaddde867/IPKE/main/assets/chunking_comparison_chart.png)\n\n![Prompting comparison](https://raw.githubusercontent.com/imaddde867/IPKE/main/assets/prompting_comparison_chart.png)\n\n## Engineering Highlights\n- On-prem, privacy-preserving inference via quantized GGUF models (no external APIs required).\n- Reproducible experiment harness for chunking/prompting sweeps (`scripts/experiments/*`) plus plotting scripts that generate publication-grade figures (`scripts/plot_*.py`).\n- Clean separation of concerns: chunkers, prompting strategies, graph building, validation, and evaluation metrics live in dedicated modules under `src/`.\n- Dual interfaces: Streamlit for interactive exploration and FastAPI for programmatic extraction (`/extract` + OpenAPI docs).\n- Neo4j integration via `docker-compose.yml` for queryable PKG storage and downstream decision-support use.\n\n## Demo Video\n\u003Cvideo controls src=\"https://raw.githubusercontent.com/imaddde867/IPKE/main/assets/demo.mp4\" poster=\"https://raw.githubusercontent.com/imaddde867/IPKE/main/datasets/Samples/UI_Frontend_screenshot.png\">\u003C/video>\n\n## Try It\n```bash\npython3 -m venv .venv && source .venv/bin/activate && pip install -r requirements.txt\ndocker compose up -d\nstreamlit run streamlit_app.py\n```\n","tech_tags":["industrial-ai","procedural-knowledge-extraction","knowledge-graphs","local-llm","privacy-by-design","fastapi","evaluation"],"created_at":"2025-12-24T19:02:47.149096+00:00","updated_at":"2026-02-09T12:18:27.145+00:00","image_url":"https://raw.githubusercontent.com/imaddde867/IPKE/main/assets/banner.jpg","repo_url":"https://github.com/imaddde867/IPKE","demo_url":null,"featured":true};</script>
</body>
</html>
